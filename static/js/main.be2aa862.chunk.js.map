{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.scss","Components/Modal/Modal.module.scss","Components/Button/Button.module.scss","Components/ImageGallery/ImageGallery.module.scss","Components/SearchBar/SearchBar.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/Button/Button.jsx","Services/getImages.js","Components/ImageGallery/ImageGallery.jsx","Components/Modal/Modal.jsx","App.js","reportWebVitals.js","index.js","Components/SearchBar/SearchBar.module.scss"],"names":["module","exports","SearchBar","state","searchQuery","handleChange","e","setState","target","value","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","position","duration","className","s","wrapper","form","this","submit_btn","type","icon","search_input","autoComplete","autoFocus","placeholder","name","onChange","Component","ImageGalleryItem","src","tags","largeImage","onClick","alt","ImageGalleryItem_image","Button","fetchImages","query","page","axios","get","params","q","key","image_type","orientation","per_page","then","response","data","hits","STATUS","ImageGallery","currentPage","images","status","getImages","a","length","prevState","message","changeCurrentPage","prevProps","oldQuery","newQuery","oldPage","newPage","window","scrollTo","top","document","documentElement","scrollHeight","behavior","onSelect","map","image","webformatURL","largeImageURL","id","color","height","width","Modal","escFunction","keyCode","onClose","closeModal","currentTarget","addEventListener","removeEventListener","Overlay","App","selectedImage","selectedImageTags","saveSearchQuery","text","handleSelectImage","handleCloseModal","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.be2aa862.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2CkVE\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1SpOg\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__MPnUH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2beSi\",\"Modal\":\"Modal_Modal__auIMj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3vesl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__xH2dE\"};","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { AiOutlineSearch } from 'react-icons/ai';\r\nimport toast from 'react-hot-toast';\r\nimport s from './SearchBar.module.scss';\r\n\r\nexport class SearchBar extends Component {\r\n  state = {\r\n    searchQuery: '',\r\n  };\r\n\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func,\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ searchQuery: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (this.state.searchQuery.trim() === '') {\r\n      toast.error('Enter your query please', {\r\n        position: 'top-right',\r\n        duration: 2000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(this.state.searchQuery);\r\n    this.setState({ searchQuery: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={s.wrapper}>\r\n        <form className={s.form} onSubmit={this.handleSubmit}>\r\n          <button className={s.submit_btn} type=\"submit\">\r\n            <AiOutlineSearch className={s.icon} />\r\n          </button>\r\n          <input\r\n            className={s.search_input}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            type=\"text\"\r\n            name=\"search\"\r\n            value={this.state.searchQuery}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBar;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGalleryItem.module.scss';\r\n\r\nfunction ImageGalleryItem({ src, tags, largeImage, onClick }) {\r\n  return (\r\n    <li className={s.ImageGalleryItem}>\r\n      <img\r\n        src={src}\r\n        alt={tags}\r\n        className={s.ImageGalleryItem_image}\r\n        onClick={() => {\r\n          onClick({ largeImage, tags });\r\n        }}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  src: PropTypes.string,\r\n  tags: PropTypes.string,\r\n  largeImage: PropTypes.string,\r\n  onClose: PropTypes.func,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Button.module.scss';\r\n\r\nfunction Button({ onClick }) {\r\n  return (\r\n    <>\r\n      <button type=\"button\" className={s.Button} onClick={onClick}>\r\n        Load more\r\n      </button>\r\n    </>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default Button;\r\n","import axios from 'axios';\n\nconst baseURL = 'https://pixabay.com/api/';\nconst apiKey = '21801737-49cda37636a05962c9a05323f';\n\nfunction fetchImages(query, page) {\n  return axios\n    .get(baseURL, {\n      params: {\n        q: query,\n        page: `${page}`,\n        key: apiKey,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        per_page: '12',\n      },\n    })\n    .then(response => response.data.hits);\n}\n\nexport default fetchImages;\n","import React, { Component } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport PropTypes from 'prop-types';\r\nimport ImageGalleryItem from 'Components/ImageGalleryItem';\r\nimport Button from 'Components/Button';\r\nimport fetchImages from 'Services/getImages';\r\nimport s from './ImageGallery.module.scss';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst STATUS = {\r\n  IDLE: 'idle',\r\n  PENDING: 'pending',\r\n  RESOLVED: 'resolved',\r\n  REJECTED: 'rejected',\r\n};\r\n\r\nexport class ImageGallery extends Component {\r\n  state = {\r\n    currentPage: 1,\r\n    images: [],\r\n    status: STATUS.IDLE,\r\n    error: null,\r\n  };\r\n\r\n  static propTypes = {\r\n    query: PropTypes.string,\r\n    onSelect: PropTypes.func,\r\n  };\r\n\r\n  async componentDidUpdate(prevProps, prevState) {\r\n    const oldQuery = prevProps.query;\r\n    const newQuery = this.props.query;\r\n    const oldPage = prevState.currentPage;\r\n    const newPage = this.state.currentPage;\r\n\r\n    if (oldQuery !== newQuery) {\r\n      this.setState({ currentPage: 1, images: [], error: null });\r\n      this.getImages(newQuery, newPage);\r\n    }\r\n\r\n    if (oldQuery === newQuery && oldPage !== newPage && newPage !== 1) {\r\n      this.setState({ error: null });\r\n      await this.getImages(newQuery, newPage);\r\n\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  }\r\n\r\n  getImages = async (query, page) => {\r\n    this.setState({ status: STATUS.PENDING });\r\n    try {\r\n      const images = await fetchImages(query, page);\r\n      if (images.length === 0) {\r\n        this.setState({ status: STATUS.IDLE });\r\n        return toast.error(\r\n          'Search result is not successful. Enter the correct query and try again, please.',\r\n          {\r\n            position: 'top-right',\r\n            duration: 3000,\r\n          },\r\n        );\r\n      }\r\n      this.setState(prevState => ({\r\n        images: [...prevState.images, ...images],\r\n        status: STATUS.RESOLVED,\r\n      }));\r\n    } catch (error) {\r\n      this.setState({ error: error.message, status: STATUS.REJECTED });\r\n      toast.error(\r\n        'Oops! Something went wrong... Please try again. If the problem persists, contact our customer support',\r\n        {\r\n          position: 'top-right',\r\n          duration: 3000,\r\n        },\r\n      );\r\n    }\r\n  };\r\n\r\n  changeCurrentPage = () => {\r\n    this.setState(prevState => ({ currentPage: prevState.currentPage + 1 }));\r\n  };\r\n\r\n  render() {\r\n    const { images, status, error } = this.state;\r\n    const { onSelect } = this.props;\r\n\r\n    return (\r\n      <>\r\n        {status === STATUS.REJECTED && <h1>Error: {error}</h1>}\r\n        <ul className={s.ImageGallery}>\r\n          {images.length > 0 &&\r\n            images.map(image => (\r\n              <ImageGalleryItem\r\n                key={image.id}\r\n                src={image.webformatURL}\r\n                tags={image.tags}\r\n                largeImage={image.largeImageURL}\r\n                onClick={onSelect}\r\n              />\r\n            ))}\r\n        </ul>\r\n\r\n        {status === STATUS.PENDING && (\r\n          <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={100} width={100} />\r\n        )}\r\n        {status === STATUS.RESOLVED && images.length > 0 && (\r\n          <Button onClick={this.changeCurrentPage} />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Modal.module.scss';\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    src: PropTypes.string,\r\n    tags: PropTypes.string,\r\n    onClose: PropTypes.func,\r\n  };\r\n\r\n  componentDidMount() {\r\n    document.addEventListener('keydown', this.escFunction);\r\n  }\r\n  componentWillUnmount() {\r\n    document.removeEventListener('keydown', this.escFunction);\r\n  }\r\n\r\n  escFunction = e => {\r\n    if (e.keyCode === 27) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  closeModal = e => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { src, tags } = this.props;\r\n    return (\r\n      <div\r\n        className={s.Overlay}\r\n        onClick={e => {\r\n          this.closeModal(e);\r\n        }}\r\n      >\r\n        <div className={s.Modal}>\r\n          <img src={src} alt={tags} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import { Component } from 'react';\nimport { Toaster } from 'react-hot-toast';\nimport { SearchBar } from './Components/SearchBar/SearchBar';\nimport ImageGallery from 'Components/ImageGallery/ImageGallery';\nimport Modal from 'Components/Modal/Modal';\nimport './App.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n    selectedImage: null,\n    selectedImageTags: null,\n  };\n\n  saveSearchQuery = text => {\n    this.setState({ searchQuery: text });\n  };\n\n  handleSelectImage = ({ largeImage, tags }) => {\n    this.setState({\n      selectedImage: largeImage,\n      selectedImageTags: tags,\n    });\n  };\n\n  handleCloseModal = () => {\n    this.setState({ selectedImage: null });\n  };\n\n  render() {\n    const { searchQuery, selectedImage, selectedImageTags } = this.state;\n    return (\n      <div className=\"App\">\n        <SearchBar onSubmit={this.saveSearchQuery} />\n        <ImageGallery query={searchQuery} onSelect={this.handleSelectImage} />\n        {selectedImage && (\n          <Modal\n            src={selectedImage}\n            tags={selectedImageTags}\n            onClose={this.handleCloseModal}\n          />\n        )}\n        <Toaster />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"SearchBar_wrapper__znV1k\",\"form\":\"SearchBar_form__3h4KT\",\"submit_btn\":\"SearchBar_submit_btn__1qvUV\",\"search_input\":\"SearchBar_search_input__3pIYI\",\"icon\":\"SearchBar_icon__33iZ3\"};"],"sourceRoot":""}